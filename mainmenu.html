<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TTC</title>
    <!-- Adding favicon -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
      crossorigin="anonymous"
    />
    <!-- Adding Favicon -->
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="main.css" type="text/css" />
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=UA-113861388-2"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "UA-113861388-2");
    </script>
    <!-- Google Icons -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
    />
  </head>
  <body>
    <header>
      <div class="right">
        <!-- Header -->
        <div class="pagination">
          <a class="active" href="#">Home</a>
          <a href="about.html">About</a>
          <a href="contributors.html">Contributors</a>
          <!-- Button to toggle dark mode -->
          <button class="btn btn-info" onclick="enableDarkMode()">
            Dark Mode
          </button>
          <!-- Button to play/pause music -->
          <button
            class="btn btn-primary"
            onclick="playAudio(this)"
            type="button"
          >
            Play Music
          </button>
        </div>
      </div>
      <!-- Website Title -->
      <h1>Tic Tac Toe</h1>
    </header>

    <!-- Main Menu Wrapper -->
    <div class="wrapper">
      <div class="h4">Play Tic Tac Toe</div>
      <br />

      <!-- Difficulty Settings -->
      <div class="center">
        <button class="button" type="button" onclick="setDifficulty('easy')">
          <h2>Easy</h2></button
        ><br />
        <button class="button" type="button" onclick="setDifficulty('normal')">
          <h2>Normal</h2></button
        ><br />
        <button class="button" type="button" onclick="setDifficulty('hard')">
          <h2>Hard</h2></button
        ><br />
      </div>

      <!-- Script to store difficulty level in local storage and navigate to index.html -->
      <script>
        function setDifficulty(level) {
          localStorage.setItem("difficulty", level);
          window.location.href = "index.html";
        }
      </script>
    </div>

    <!-- Music Player -->
    <audio id="myAudio">
      <source src="music.mp3" type="audio/ogg" />
    </audio>

    <script>
      var x = document.getElementById("myAudio");

      // Function to play or pause the audio
      function playAudio(btn) {
        return x.paused ? x.play() : x.pause();
        if (x.paused) {
          x.play();
          btn.innerHTML = "Pause Music";
        } else {
          x.pause();
          btn.innerHTML = "Play Music";
        }
      }
    </script>

    <!-- Dark Mode Script -->
    <script>
      window.onload = function () {
        // Load the current theme from local storage and apply it
        const currentMode = localStorage.getItem("theme") || "light-mode";
        document.body.classList.add(currentMode);

        // Set button text based on current mode
        const darkToggle = document.querySelector(".btn-info");
        darkToggle.textContent =
          currentMode === "dark-mode" ? "Light Mode" : "Dark Mode";

        if (currentMode === "dark-mode") {
          setDarkMode();
        }
      };

      // Function to toggle dark mode
      function enableDarkMode() {
        const body = document.body;
        const currentMode = body.classList.contains("dark-mode")
          ? "dark-mode"
          : "light-mode";
        const newMode =
          currentMode === "dark-mode" ? "light-mode" : "dark-mode";

        body.classList.remove(currentMode);
        body.classList.add(newMode);

        // Save the preference to local storage
        localStorage.setItem("theme", newMode);

        // Update button text
        const darkToggle = document.querySelector(".btn-info");
        darkToggle.textContent =
          newMode === "dark-mode" ? "Light Mode" : "Dark Mode";
      }

      // Function to apply dark mode styles
      function setDarkMode() {
        document.body.classList.add("dark-mode");
      }
    </script>

    <!-- Facebook Instant Games SDK -->
    <script src="https://connect.facebook.net/en_US/fbinstant.6.3.js"></script>
    <script src="app.js"></script>
  </body>
</html>
